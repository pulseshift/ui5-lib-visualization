/*!
 * OpenUI5
 * (c) Copyright 2009-2019 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["./Control","sap/ui/model/control/ControlModel","sap/ui/base/EventProvider","sap/base/assert","sap/base/util/isPlainObject","sap/ui/thirdparty/jquery"],function(t,o,e,n,i,r){"use strict";var s={};s.mixInto=function(o,e,r){if(arguments.length==2&&typeof e==="object"){r=e;e="ComponentFactory"}n(typeof o==="function"&&o.prototype instanceof t,"CompositeSupport.mixInto: fnClass must be a subclass of Control");n(typeof e==="string"&&e,"CompositeSupport.mixInto: sFactoryName must be a non-empty string");n(typeof r==="object","oMethods must be an object");function s(){var t=o.getMetadata();do{t=t.getParent();if(t&&t.getComponentFactoryClass){return t.getComponentFactoryClass()}}while(t);return a}o[e]=s().subclass(r);o.getMetadata().getComponentFactoryClass=function(){return o[e]};if(!o.prototype._initCompositeSupport){o.prototype._initCompositeSupport=function(t){var o=new(this.getMetadata().getComponentFactoryClass())(this);if(t.componentFactory){n(i(t.componentFactory));o.customize(t.componentFactory);delete t.componentFactory}this.getComponentFactory=function(){return o}}}if(!o.prototype._exitCompositeSupport){o.prototype._exitCompositeSupport=function(){this.getComponentFactory().destroy();delete this.getComponentFactory}}};var a=e.extend("sap.ui.core.ComponentFactory",{constructor:function(t){e.apply(this);this.oComposite=t;return this}});a.prototype.attachChange=function(t,o){this.getModel();this.attachEvent("change",t,o);return this};a.prototype.detachChange=function(t,o){this.getModel();this.detachEvent("change",t,o);return this};a.prototype.getModel=function(){if(!this.oModel){var t=this;this.oModel=new o(this.oComposite);this.oModel._onchange=function(o){t.fireEvent("change",o.getParameters&&o.getParameters())}}return this.oModel};a.prototype.addFacadeComponent=function(t){this.getModel().add(t)};a.prototype.removeFacadeComponent=function(t){this.getModel().remove(t)};(function(){function t(t,o,e){r.each(o,function(o,n){if(o.indexOf("default")!=0){t[o]=n}if(e&&o.indexOf("create")==0){t["defaultC"+o.substring(1)]=t[o]}})}function o(e){return function(n){var i=function(){e.apply(this,arguments)};i.prototype=Object.create(e.prototype);t(i.prototype,n,true);i.customize=function(o){t(i.prototype,o);return this};i.subclass=o(i);return i}}a.subclass=o(a);a.prototype.customize=function(o){t(this,o);if(this.oComposite&&this.oComposite._onComponentFactoryChanged){this.oComposite._onComponentFactoryChanged()}return this}})();return s},true);