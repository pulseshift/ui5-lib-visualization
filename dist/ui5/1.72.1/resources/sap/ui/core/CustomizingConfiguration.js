/*!
 * OpenUI5
 * (c) Copyright 2009-2019 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/thirdparty/jquery","./Core","./Component","sap/base/Log","sap/base/util/ObjectPath","sap/base/util/isEmptyObject"],function(n,t,e,i,o,a){"use strict";var r="sap.ui.viewReplacements",u="sap.ui.viewExtensions",s="sap.ui.viewModifications",f="sap.ui.controllerExtensions",c="sap.ui.controllerReplacements";var g={};function p(t,i,o){var a=i&&typeof i==="string"?i:i&&e.getOwnerIdFor(i);if(a){var r=e.get(a);var u=r&&r.getMetadata().getComponentName();var s=g[u+"::"+a];if(s&&s[t]&&o(s[t])){return false}else{s=g[u];if(s&&s[t]&&o(s[t])){return false}}}else{n.each(g,function(n,e){if(e&&e[t]&&o(e[t])){return false}})}}var m={log:function(){if(window.console){window.console.log(g)}},activateForComponent:function(n){i.info("CustomizingConfiguration: activateForComponent('"+n+"')");var t=n+".Component";sap.ui.requireSync(t.replace(/\./g,"/"));var e=o.get(t).getMetadata().getCustomizing();g[n]=e;i.debug("CustomizingConfiguration: customizing configuration for component '"+n+"' loaded: "+JSON.stringify(e))},deactivateForComponent:function(n){if(g[n]){i.info("CustomizingConfiguration: deactivateForComponent('"+n+"')");delete g[n]}},activateForComponentInstance:function(n){i.info("CustomizingConfiguration: activateForComponentInstance('"+n.getId()+"')");var t=n.getMetadata().getComponentName(),e=t+"::"+n.getId(),o=n.getManifest()["sap.ui5"]&&n.getManifest()["sap.ui5"]["extends"]&&n.getManifest()["sap.ui5"]["extends"]["extensions"];g[e]=o;i.debug("CustomizingConfiguration: customizing configuration for component '"+e+"' loaded: "+JSON.stringify(o))},deactivateForComponentInstance:function(n){var t=n.getMetadata().getComponentName(),e=t+"::"+n.getId();if(g[e]){i.info("CustomizingConfiguration: deactivateForComponent('"+e+"')");delete g[e]}},getViewReplacement:function(n,t){var e;p(r,t,function(t){e=t[n];return!!e});return e},getViewExtension:function(n,t,e){var i;p(u,e,function(e){i=e[n]&&e[n][t];return!!i});return i},getControllerExtension:function(n,t){var e;p(f,t,function(t){e=t[n];return!!e});return e},getControllerReplacement:function(n,t){var e;p(c,t,function(t){e=t[n];return!!e});return e},getCustomProperties:function(t,e,o){var a;p(s,o,function(o){var r=o[t]&&o[t][e];var u={};var s=false;if(r){n.each(r,function(n,o){if(n==="visible"){s=true;u[n]=o;i.info("Customizing: custom value for property '"+n+"' of control '"+e+"' in View '"+t+"' applied: "+o)}else{i.warning("Customizing: custom value for property '"+n+"' of control '"+e+"' in View '"+t+"' ignored: only the 'visible' property can be customized.")}});if(s){a=a||{};n.extend(a,u)}}});return a},hasCustomProperties:function(n,t){var e={};p(s,t,function(t){if(!!t[n]){e=t[n]}});return!a(e)}};if(sap.ui.getCore().getConfiguration().getDisableCustomizing()){i.info("CustomizingConfiguration: disabling Customizing now");n.each(m,function(n,t){if(typeof t==="function"){m[n]=function(){}}})}return m},true);