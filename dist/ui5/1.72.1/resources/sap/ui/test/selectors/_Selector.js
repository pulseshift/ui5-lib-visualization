/*!
 * OpenUI5
 * (c) Copyright 2009-2019 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/thirdparty/jquery","sap/ui/base/ManagedObject","sap/ui/test/_OpaLogger"],function(e,t,r){"use strict";var n=t.extend("sap.ui.test.selectors._Selector",{constructor:function(){this._oLogger=r.getLogger(this.getMetadata().getName());return t.prototype.constructor.apply(this,arguments)},generate:function(t){var r=this._generate.apply(this,arguments);if(r){if(e.isArray(r)){return r.filter(function(t){return t&&(!e.isArray(t)||t.length)}).map(function(r){if(e.isArray(r)){return r.map(function(r){return e.extend({},this._createSelectorBase(t,r),r)}.bind(this))}else{return e.extend({},this._createSelectorBase(t,r),r)}}.bind(this))}else{return e.extend(this._createSelectorBase(t,r),r)}}},_getAncestors:function(){return null},_createSelectorBase:function(e,t){if(t.skipBasic){delete t.skipBasic;return t}else{return{controlType:e.getMetadata()._sClassName,viewName:this._getControlViewName(e)}}},_getControlViewName:function(e){if(!e){return undefined}if(e.getViewName){var t=e.getViewName();this._oLogger.debug("Control "+e+" has viewName "+t);return t}else{return this._getControlViewName(e.getParent())}},_findAncestor:function(e,t,r){if(e){var n=e.getParent();if(n){if(t(n)){return n}else if(!r){return this._findAncestor(n,t)}}}}});return n});