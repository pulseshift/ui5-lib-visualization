/*!
 * OpenUI5
 * (c) Copyright 2009-2019 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/test/selectors/_Selector","sap/ui/thirdparty/jquery","sap/ui/model/resource/ResourceModel","sap/m/ListBase","sap/m/ListItemBase"],function(t,e,n,i,a){"use strict";var r=t.extend("sap.ui.test.selectors._BindingPath",{_generate:function(t){return Object.keys(t.mBindingInfos).map(function(e){return this._getBindingSelector(t,e)}.bind(this))},_getBindingSelector:function(t,e){var i=this._getBinding(t,e);if(i){return i.map(function(i){if(i.model.type===n.getMetadata().getName()){this._oLogger.debug("Control "+t+" property "+e+" has i18n binding for model "+i.model.name+" with key "+i.path);return{i18NText:{propertyName:e,key:i.path,modelName:i.model.name}}}else{this._oLogger.debug("Control "+t+" property "+e+" has data binding for model "+i.model.name+" with context "+i.contextPath+" and path "+i.path);return{bindingPath:{path:i.contextPath,propertyPath:i.path,modelName:i.model.name}}}}.bind(this))}else{this._oLogger.debug("Control "+t+" does not have data binding for property "+e);return[]}},_getBinding:function(t,e){var n=t.getBinding(e);var i=t.getBindingInfo(e);if(n){if(n.getBindings){this._oLogger.debug("Control "+t+" has composite binding for property "+e);return n.getBindings().map(function(t,e){return this._mapBindingData(t,i.parts[e])}.bind(this))}else{this._oLogger.debug("Control "+t+" has simple binding for property "+e);return[this._mapBindingData(n,i.parts?i.parts[0]:i)]}}},_mapBindingData:function(t,e){var n=t.getModel();var i=t.getContext();return{path:t.getPath(),contextPath:i?i.getPath():"",model:{name:e.model||undefined,type:n.getMetadata().getName(),data:n.getData?n.getData():undefined}}}});return r});