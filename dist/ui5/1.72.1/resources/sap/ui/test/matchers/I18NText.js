/*!
 * OpenUI5
 * (c) Copyright 2009-2019 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/test/matchers/Matcher","sap/base/strings/capitalize"],function(e,t){"use strict";return e.extend("sap.ui.test.matchers.I18NText",{metadata:{publicMethods:["isMatching"],properties:{propertyName:{type:"string"},key:{type:"string"},parameters:{type:"any"},modelName:{type:"string",defaultValue:"i18n"}}},isMatching:function(e){var o=this.getKey(),r=this.getPropertyName(),s=this.getParameters(),a=this.getModelName(),i=e.getModel(a),n,u=e["get"+t(r,0)],g,d,h;if(!i){this._oLogger.debug("The '"+e+"' has no model with name '"+a+"'");return false}if(!i.getResourceBundle){this._oLogger.debug("The model '"+i+"' is not a valid resource model");return false}n=i.getResourceBundle();if(n instanceof Promise){if(i._oResourceBundle instanceof Object&&i._oResourceBundle.getText){n=i._oResourceBundle}else{this._oLogger.debug("The model '"+a+"' of '"+e+"' is in async mode and not loaded yet");return false}}if(!u){this._oLogger.debug("The '"+e+"' has no '"+r+"' property");return false}g=u.call(e);d=n.getText(o,s);if(d===o){var l="No value for the key '"+o+"' in the model '"+a+"' of '"+e+"'";this._oLogger.debug(l);return false}h=g===d;if(!h){this._oLogger.debug("The text '"+d+"' does not match the value '"+g+"' of the '"+r+"' property for '"+e+"'")}return h}})});