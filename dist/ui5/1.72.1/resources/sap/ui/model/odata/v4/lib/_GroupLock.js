/*!
 * OpenUI5
 * (c) Copyright 2009-2019 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/base/SyncPromise"],function(i){"use strict";function o(i,o,e,t,r){if(!o){throw new Error("Missing owner")}if(t&&!e){throw new Error("A modifying group lock has to be locked")}this.sGroupId=i;this.bLocked=!!e;this.bModifying=!!t;this.oOwner=o;this.oPromise=null;this.iSerialNumber=r===undefined?Infinity:r}o.prototype.getGroupId=function(){return this.sGroupId};o.prototype.getSerialNumber=function(){return this.iSerialNumber};o.prototype.getUnlockedCopy=function(){return new o(this.sGroupId,this.oOwner,false,false,this.iSerialNumber)};o.prototype.isLocked=function(){return this.bLocked};o.prototype.isModifying=function(){return this.bModifying};o.prototype.toString=function(){return"sap.ui.model.odata.v4.lib._GroupLock(group="+this.sGroupId+", owner="+this.oOwner+(this.isLocked()?", locked":"")+(this.isModifying()?", modifying":"")+(this.iSerialNumber!==Infinity?", serialNumber="+this.iSerialNumber:"")+")"};o.prototype.unlock=function(i){if(this.bLocked===undefined&&!i){throw new Error("GroupLock unlocked twice")}this.bLocked=undefined;if(this.oPromise){this.oPromise.$resolve()}};o.prototype.waitFor=function(o){var e;if(this.bLocked&&this.sGroupId===o){if(!this.oPromise){this.oPromise=new i(function(i){e=i});this.oPromise.$resolve=e}return this.oPromise}};o.$cached=new o("$cached","sap.ui.model.odata.v4.lib._GroupLock");o.$cached.unlock=function(){};return o},false);