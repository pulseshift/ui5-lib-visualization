/*!
 * OpenUI5
 * (c) Copyright 2009-2019 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/base/ManagedObject","./GridItemLayoutData","sap/ui/Device"],function(t,e,r){"use strict";var i={gridTemplateColumns:"grid-template-columns",gridTemplateRows:"grid-template-rows",gridGap:"grid-gap",gridColumnGap:"grid-column-gap",gridRowGap:"grid-row-gap",gridAutoRows:"grid-auto-rows",gridAutoColumns:"grid-auto-columns",gridAutoFlow:"grid-auto-flow"};var o=16;var a={Row:"row",Column:"column",RowDense:"row dense",ColumnDense:"column dense"};var n=t.extend("sap.ui.layout.cssgrid.GridLayoutBase",{metadata:{library:"sap.ui.layout",abstract:true}});n.setItemStyles=function(t){if(!t){return}var r=n._getLayoutDataForControl(t),i=n._getElement(t);if(!i){return}if(!r){e.removeItemStyles(i)}else{r.setItemStyles(i)}};n._getLayoutDataForControl=function(t){var e,r,i;if(!t){return undefined}e=t.getLayoutData();if(!e){return undefined}if(e.isA("sap.ui.layout.cssgrid.IGridItemLayoutData")){return e}if(e.isA("sap.ui.core.VariantLayoutData")){r=e.getMultipleLayoutData();for(var o=0;o<r.length;o++){i=r[o];if(i.isA("sap.ui.layout.cssgrid.IGridItemLayoutData")){return i}}}};n._getElement=function(t){var e=t.getDomRef();if(!e){return undefined}var r=e.parentNode;if(r&&r.classList.contains("sapUiLayoutCSSGridItemWrapper")){return r}return e};n.prototype.applyGridLayout=function(t){if(!t){return}t.forEach(this._applySingleGridLayout,this)};n.prototype._applySingleGridLayout=function(t){if(!t){return}t=t instanceof window.HTMLElement?t:t.getDomRef();var e=this.getActiveGridSettings();t.style.setProperty("display","grid");if(e){this._setGridLayout(t,e)}else{this._removeGridLayout(t)}};n.prototype._setGridLayout=function(t,e){var r=e.getMetadata().getProperties(),o,n;for(o in i){if(r[o]){n=e.getProperty(o);if(o==="gridAutoFlow"){n=a[n]}if(n===""&&(o==="gridRowGap"||o==="gridColumnGap")){continue}t.style.setProperty(i[o],n)}}};n.prototype._removeGridLayout=function(t){for(var e in i){t.style.removeProperty(i[e])}};n.prototype.getActiveGridSettings=function(){throw new Error("GridLayoutBase getActiveGridSettings not implemented in child class")};n.prototype.onGridAfterRendering=function(t){t.getGridDomRefs().forEach(function(t){if(t.children){for(var e=0;e<t.children.length;e++){if(!t.children[e].classList.contains("sapMGHLI")&&!t.children[e].classList.contains("sapUiBlockLayerTabbable")){t.children[e].classList.add("sapUiLayoutCSSGridItem")}}}})};n.prototype.onGridResize=function(t){};n.prototype.isResponsive=function(){return false};n.prototype.isGridSupportedByBrowser=function(){return!r.browser.msie&&!(r.browser.edge&&r.browser.version<o)};n.prototype.renderSingleGridLayout=function(t){var e=this&&this.getActiveGridSettings(),r,o;t.addStyle("display","grid");if(!e||this.isResponsive()){return}var n=e.getMetadata().getProperties();for(r in i){if(n[r]){o=e.getProperty(r);if(r==="gridAutoFlow"){o=a[o]}t.addStyle(i[r],o)}}};return n});