/*!
 * OpenUI5
 * (c) Copyright 2009-2019 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/thirdparty/jquery","sap/base/Log","sap/base/assert"],function(e,r,n){"use strict";var t={};var a="fragment";var s="view";var o={js:[s,a,"controller","designtime"],xml:[s,a],json:[s,a],html:[s,a]};var i;(function(){var e="";for(var r in o){e=(e?e+"|":"")+r}e="\\.("+e+")$";i=new RegExp(e)})();t.getKnownSubtypes=function(){return o};t.getAllRequiredModules=function(){var e=[],r=sap.ui.loader._.getAllModules(true),n;for(var t in r){n=r[t];if(n.ui5&&n.state!==-1){e.push(n.ui5)}}return e};var u=Object.create(null);t.registerResourcePath=function(e,n){if(!n){n={url:null}}if(!u[e]){var t;if(typeof n==="string"||n instanceof String){t=n}else{t=n.url;if(n.final){u[e]=n.final}}var a=sap.ui.require.toUrl(e);var s;if(t!==a||n.final){s={paths:{}};s.paths[e]=t;sap.ui.loader.config(s);r.info("LoaderExtensions.registerResourcePath ('"+e+"', '"+t+"')"+(n["final"]?" (final)":""))}}else{r.warning("LoaderExtensions.registerResourcePath with prefix "+e+" already set as final. This call is ignored.")}};t.loadResource=function(t,a){var s,o,u,l,f,c;if(typeof t==="string"){a=a||{}}else{a=t||{};t=a.name}a=e.extend({failOnError:true,async:false},a);s=a.dataType;if(s==null&&t){s=(s=i.exec(t||a.url))&&s[1]}n(/^(xml|html|json|text)$/.test(s),"type must be one of xml, html, json or text");f=a.async?new e.Deferred:null;function d(e,n){if(e==null&&a.failOnError){l=n||new Error("no data returned for "+t);if(a.async){f.reject(l);r.error(l)}return null}if(a.async){f.resolve(e)}return e}function p(r){var n=e.ajaxSettings.converters["text "+s];if(typeof n==="function"){r=n(r)}return d(r)}o=sap.ui.loader._.getModuleContent(t,a.url);if(o!=undefined){if(a.async){setTimeout(function(){p(o)},0)}else{o=p(o)}}else{c=sap.ui.loader._.getSyncCallBehavior();if(!a.async&&c){if(c>=1){r.error("[nosync] loading resource '"+(t||a.url)+"' with sync XHR")}else{throw new Error("[nosync] loading resource '"+(t||a.url)+"' with sync XHR")}}e.ajax({url:u=a.url||sap.ui.loader._.getResourcePath(t),async:a.async,dataType:s,headers:a.headers,success:function(e,r,n){o=d(e)},error:function(e,r,n){l=new Error("resource "+t+" could not be loaded from "+u+". Check for 'file not found' or parse errors. Reason: "+n);l.status=r;l.error=n;l.statusCode=e.status;o=d(null,l)}})}if(a.async){return Promise.resolve(f)}if(l!=null&&a.failOnError){throw l}return o};return t});