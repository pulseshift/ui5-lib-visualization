/*!
 * OpenUI5
 * (c) Copyright 2009-2019 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["./FlexBoxStylingHelper","./FlexItemData","./library","sap/ui/core/Control","sap/ui/core/InvisibleRenderer","./FlexBoxRenderer","sap/ui/thirdparty/jquery"],function(e,t,i,s,n,r,o){"use strict";var a=i.BackgroundDesign;var p=i.FlexAlignContent;var l=i.FlexWrap;var g=i.FlexAlignItems;var u=i.FlexJustifyContent;var h=i.FlexRendertype;var d=i.FlexDirection;var m=s.extend("sap.m.FlexBox",{metadata:{library:"sap.m",properties:{height:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:""},width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:""},displayInline:{type:"boolean",group:"Appearance",defaultValue:false},direction:{type:"sap.m.FlexDirection",group:"Appearance",defaultValue:d.Row},fitContainer:{type:"boolean",group:"Appearance",defaultValue:false},renderType:{type:"sap.m.FlexRendertype",group:"Misc",defaultValue:h.Div},justifyContent:{type:"sap.m.FlexJustifyContent",group:"Appearance",defaultValue:u.Start},alignItems:{type:"sap.m.FlexAlignItems",group:"Appearance",defaultValue:g.Stretch},wrap:{type:"sap.m.FlexWrap",group:"Appearance",defaultValue:l.NoWrap},alignContent:{type:"sap.m.FlexAlignContent",group:"Appearance",defaultValue:p.Stretch},backgroundDesign:{type:"sap.m.BackgroundDesign",group:"Appearance",defaultValue:a.Transparent}},defaultAggregation:"items",aggregations:{items:{type:"sap.ui.core.Control",multiple:true,singularName:"item"}},designtime:"sap/m/designtime/FlexBox.designtime",dnd:{draggable:false,droppable:true}}});m.prototype.init=function(){if(this instanceof sap.m.HBox&&(this.getDirection()!==d.Row||this.getDirection()!==d.RowReverse)){this.setDirection("Row")}if(this instanceof sap.m.VBox&&(this.getDirection()!==d.Column||this.getDirection()!==d.ColumnReverse)){this.setDirection("Column")}this._oItemDelegate={onAfterRendering:this._onAfterItemRendering}};m.prototype.addItem=function(e){this.addAggregation("items",e);this._onItemInserted(e);return this};m.prototype.insertItem=function(e,t){this.insertAggregation("items",e,t);this._onItemInserted(e);return this};m.prototype.removeItem=function(e){var t=this.removeAggregation("items",e);this._onItemRemoved(t);return t};m.prototype.removeAllItems=function(){var e=this.getItems();for(var t=0;t<e.length;t++){this._onItemRemoved(e[t])}return this.removeAllAggregation("items")};m.prototype._onItemInserted=function(e){if(e&&!(e instanceof m)){e.attachEvent("_change",this._onItemChange,this);if(this.getRenderType()===h.Bare){e.addEventDelegate(this._oItemDelegate,e)}}};m.prototype._onItemRemoved=function(e){if(e&&!(e instanceof m)){e.detachEvent("_change",this._onItemChange,this);if(this.getRenderType()===h.Bare){e.removeEventDelegate(this._oItemDelegate,e)}}};m.prototype._onItemChange=function(e){if(e.getParameter("name")!=="visible"||this.getRenderType()!==h.List&&this.getRenderType()!==h.Div){return}var t=sap.ui.getCore().byId(e.getParameter("id")),i=null;if(t.getLayoutData()){i=o(document.getElementById(t.getLayoutData().getId()))}else{i=o(document.getElementById(n.createInvisiblePlaceholderId(t))).parent()}if(e.getParameter("newValue")){i.removeClass("sapUiHiddenPlaceholder").removeAttr("aria-hidden")}else{i.addClass("sapUiHiddenPlaceholder").attr("aria-hidden","true")}};m.prototype._onAfterItemRendering=function(){var i=this.getLayoutData();if(i instanceof t){e.setFlexItemStyles(null,i)}};m.prototype.setRenderType=function(e){var t=this.getRenderType(),i=this.getItems();if(e===t){return this}this.setProperty("renderType",e);if(t==="Bare"){i.forEach(this._onItemRemoved,this)}if(e==="Bare"){i.forEach(this._onItemInserted,this)}return this};m.prototype.setDisplayInline=function(e){this.setProperty("displayInline",e,true);this.$().toggleClass("sapMFlexBoxInline",this.getDisplayInline());return this};m.prototype.setDirection=function(e){this.setProperty("direction",e,true);if(this.getDirection()===d.Column||this.getDirection()===d.ColumnReverse){this.$().removeClass("sapMHBox").addClass("sapMVBox")}else{this.$().removeClass("sapMVBox").addClass("sapMHBox")}if(this.getDirection()===d.RowReverse||this.getDirection()===d.ColumnReverse){this.$().addClass("sapMFlexBoxReverse")}else{this.$().removeClass("sapMFlexBoxReverse")}return this};m.prototype.setFitContainer=function(e){this.setProperty("fitContainer",e,true);this.$().toggleClass("sapMFlexBoxFit",this.getFitContainer());return this};m.prototype.setWrap=function(e){var t=this.getWrap();this.setProperty("wrap",e,true);this.$().removeClass("sapMFlexBoxWrap"+t).addClass("sapMFlexBoxWrap"+this.getWrap());return this};m.prototype.setJustifyContent=function(e){var t=this.getJustifyContent();this.setProperty("justifyContent",e,true);this.$().removeClass("sapMFlexBoxJustify"+t).addClass("sapMFlexBoxJustify"+this.getJustifyContent());return this};m.prototype.setAlignItems=function(e){var t=this.getAlignItems();this.setProperty("alignItems",e,true);this.$().removeClass("sapMFlexBoxAlignItems"+t).addClass("sapMFlexBoxAlignItems"+this.getAlignItems());return this};m.prototype.setAlignContent=function(e){var t=this.getAlignContent();this.setProperty("alignContent",e,true);this.$().removeClass("sapMFlexBoxAlignContent"+t).addClass("sapMFlexBoxAlignContent"+this.getAlignContent());return this};m.prototype.setHeight=function(e){this.setProperty("height",e,true);this.$().css("height",this.getHeight());return this};m.prototype.setWidth=function(e){this.setProperty("width",e,true);this.$().css("width",this.getWidth());return this};m.prototype.setBackgroundDesign=function(e){var t=this.getBackgroundDesign();this.setProperty("backgroundDesign",e,true);this.$().removeClass("sapMFlexBoxBG"+t).addClass("sapMFlexBoxBG"+this.getBackgroundDesign());return this};m.prototype.getAccessibilityInfo=function(){return{children:this.getItems()}};return m});