/*!
 * OpenUI5
 * (c) Copyright 2009-2019 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["./library","sap/ui/core/Element","./Image","./Text","sap/ui/core/library"],function(t,e,i,a,r){"use strict";var s=r.OpenState;var g=t.LightBoxLoadingStates;var n=e.extend("sap.m.LightBoxItem",{metadata:{library:"sap.m",properties:{imageSrc:{type:"sap.ui.core.URI",group:"Appearance",multiple:false,defaultValue:""},alt:{type:"string",group:"Appearance",multiple:false,defaultValue:""},title:{type:"string",group:"Appearance",multiple:false,defaultValue:""},subtitle:{type:"string",group:"Appearance",multiple:false,defaultValue:""}},aggregations:{_image:{type:"sap.m.Image",multiple:false,visibility:"hidden"},_title:{type:"sap.m.Text",multiple:false,visibility:"hidden"},_subtitle:{type:"sap.m.Text",multiple:false,visibility:"hidden"}}}});n.prototype.init=function(){this._createNativeImage();this.setAggregation("_image",new i({decorative:false,densityAware:false}),true);this.setAggregation("_title",new a({wrapping:false}),true);this.setAggregation("_subtitle",new a({wrapping:false}),true)};n.prototype._createNativeImage=function(){var t=this;this._imageState=g.Loading;this._oImage=new window.Image;this._oImage.onload=function(e){if(this.complete&&t._imageState===g.Loading){t._setImageState(g.Loaded)}};this._oImage.onerror=function(e){t._setImageState(g.Error)}};n.prototype.exit=function(){this._oImage=null};n.prototype._setImageState=function(t){if(t!==this._imageState){this._imageState=t;if(this.getParent()){this.getParent()._imageStateChanged(t)}}};n.prototype._getImageState=function(){return this._imageState};n.prototype._getNativeImage=function(){return this._oImage};n.prototype.setImageSrc=function(t){var e=this.getAggregation("_image"),i=this.getParent();if(this.getImageSrc()===t){return this}this._imageState=g.Loading;if(i&&i._oPopup.getOpenState()===s.OPEN){this._oImage.src=t}this.setProperty("imageSrc",t,false);e.setSrc(t);return this};n.prototype.setAlt=function(t){var e=this.getAggregation("_image");this.setProperty("alt",t,false);e.setAlt(t);return this};n.prototype.setTitle=function(t){var e=this.getAggregation("_title");this.setProperty("title",t,false);e.setText(t);return this};n.prototype.setSubtitle=function(t){var e=this.getAggregation("_subtitle");this.setProperty("subtitle",t,false);e.setText(t);return this};return n});