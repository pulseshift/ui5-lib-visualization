/*!
 * OpenUI5
 * (c) Copyright 2009-2019 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["./TabStripItem","sap/ui/Device","sap/ui/core/InvisibleText"],function(e,t,i){"use strict";var r={};r.LEFT_OVERRFLOW_BTN_CLASS_NAME="sapMTSLeftOverflowButtons";r.RIGHT_OVERRFLOW_BTN_CLASS_NAME="sapMTSRightOverflowButtons";r.render=function(e,i){if(!i.getVisible()){return}this.beginTabStrip(e,i);if(t.system.phone===true){this.renderTouchArea(e,i)}else{e.write("<div id='"+i.getId()+"-leftOverflowButtons' class='"+this.LEFT_OVERRFLOW_BTN_CLASS_NAME+"'>");if(i.getAggregation("_leftArrowButton")){this.renderLeftOverflowButtons(e,i,false)}e.write("</div>");this.beginTabsContainer(e,i);this.renderItems(e,i);this.endTabsContainer(e);e.write("<div id='"+i.getId()+"-rightOverflowButtons' class='"+this.RIGHT_OVERRFLOW_BTN_CLASS_NAME+"'>");if(i.getAggregation("_rightArrowButton")){this.renderRightOverflowButtons(e,i,false)}e.write("</div>");this.renderTouchArea(e,i)}this.endTabStrip(e)};r.renderItems=function(e,t){var i=t.getItems(),r=t.getSelectedItem();i.forEach(function(i){var s=r&&r===i.getId();this.renderItem(e,t,i,s)},this)};r.renderItem=function(t,i,r,d){var a=r.getTooltip(),o=s(r),l=r.getModified();t.write("<div id='"+r.getId()+"'");t.addClass(e.CSS_CLASS);if(l){t.addClass(e.CSS_CLASS_MODIFIED)}if(d){t.addClass(e.CSS_CLASS_SELECTED)}t.writeClasses();if(a){t.writeAttributeEscaped("title",a)}t.writeElementData(r);t.writeAccessibilityState(r,n(r,i,sap.ui.getCore().byId(i.getSelectedItem())));t.write(">");if(r.getIcon()){t.renderControl(r._getImage())}t.write("<div");t.addClass("sapMTSTexts");t.writeClasses();t.write(">");t.write("<div id='"+o+"-addText' class='"+e.CSS_CLASS_TEXT+"'>");this.renderItemText(t,r.getAdditionalText());t.write("</div>");t.write("<div id='"+o+"-text' class='"+e.CSS_CLASS_LABEL+"'>");this.renderItemText(t,r.getText());if(l){t.write("<span id='"+o+"-symbol'");t.addClass(e.CSS_CLASS_MODIFIED_SYMBOL);t.writeClasses();t.writeAttribute("role","presentation");t.writeAttribute("aria-hidden","true");t.write("/>")}t.write("</div>");t.write("</div>");this.renderItemCloseButton(t,r);t.write("</div>")};r.renderItemText=function(t,i){if(i.length>e.DISPLAY_TEXT_MAX_LENGTH){t.writeEscaped(i.slice(0,e.DISPLAY_TEXT_MAX_LENGTH));t.write("...")}else{t.writeEscaped(i)}};r.renderItemCloseButton=function(e,t){e.write("<div class='sapMTSItemCloseBtnCnt'>");e.renderControl(t.getAggregation("_closeButton"));e.write("</div>")};r.beginTabStrip=function(e,t){e.write("<div");e.addClass("sapMTabStrip");e.addClass("sapContrastPlus");e.writeControlData(t);e.writeClasses();e.write(">")};r.endTabStrip=function(e){e.write("</div>")};r.beginTabsContainer=function(e,t){e.write("<div id='"+t.getId()+"-tabsContainer' class='sapMTSTabsContainer'>");e.write("<div id='"+t.getId()+"-tabs'  class='sapMTSTabs'");e.writeAccessibilityState(t,{role:"tablist"});e.write(">")};r.endTabsContainer=function(e){e.write("</div>");e.write("</div>")};r.renderLeftOverflowButtons=function(e,t,i){e.renderControl(t.getAggregation("_leftArrowButton"));if(i){e.flush(t.$("leftOverflowButtons")[0])}};r.renderRightOverflowButtons=function(e,t,i){e.renderControl(t.getAggregation("_rightArrowButton"));if(i){e.flush(t.$("rightOverflowButtons")[0])}};r.renderTouchArea=function(e,t){e.write("<div id='"+t.getId()+"-touchArea'  class='sapMTSTouchArea'>");e.renderControl(t.getAggregation("_select"));e.renderControl(t.getAddButton());e.write("</div>")};function s(e){return e.getId()+"-label"}function n(e,t,r){var n=t.getItems(),d=n.indexOf(e),a=t.getParent(),o={role:"tab"},l=i.getStaticId("sap.m","TABSTRIP_ITEM_CLOSABLE")+" ";l+=i.getStaticId("sap.m",e.getModified()?"TABSTRIP_ITEM_MODIFIED":"TABSTRIP_ITEM_NOT_MODIFIED");o["describedby"]=l;o["posinset"]=d+1;o["setsize"]=n.length;o["labelledby"]=s(e)+"-addText "+s(e)+"-text";if(a&&a.getRenderer&&a.getRenderer().getContentDomId){o["controls"]=a.getRenderer().getContentDomId(a)}if(r&&r.getId()===e.getId()){o["selected"]="true"}else{o["selected"]="false"}return o}return r},true);