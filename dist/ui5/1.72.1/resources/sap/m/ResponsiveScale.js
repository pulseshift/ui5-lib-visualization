/*!
 * OpenUI5
 * (c) Copyright 2009-2019 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["./library","./SliderUtilities","sap/ui/core/Element"],function(e,i,t){"use strict";var r=t.extend("sap.m.ResponsiveScale",{metadata:{interfaces:["sap.m.IScale"],library:"sap.m",properties:{tickmarksBetweenLabels:{type:"int",group:"Appearance",defaultValue:0}}}});r.prototype.calcNumberOfTickmarks=function(e,i,t){var r=Math.floor(e/i)+1;r=t&&r>t?this._runStepsOptimization(t,r-1):r;return Math.floor(r)};r.prototype._runStepsOptimization=function(e,i){var t=i/e;while(e>1&&t%1!==0){e--;t=i/e}return e};r.prototype.getHiddenTickmarksLabels=function(e,i,t,r){var n,a,s=new Array(i),l=Math.ceil(1/(t/r)),p=function(e){return e<<1};if(l===1){return s}l--;l|=l>>1;l|=l>>2;l|=l>>4;l|=l>>8;l|=l>>16;l++;l=l>>1;n=p(l);while(l){a=l;while(a<i/2+n){s[a]=true;s[i-a-1]=true;a+=n}l=l>>1;n=p(l)}return s};r.prototype.handleResize=function(e){var t,r,n,a,s,l=e.control.$(),p=l.find(".sapMSliderTick"),o=l.find(".sapMSliderTickmarks").width(),c=o/p.size()>=i.CONSTANTS.TICKMARKS.MIN_SIZE.SMALL;p.css("visibility",c?"":"hidden");t=l.find(".sapMSliderTickLabel");r=parseFloat(t[1].style.left);n=o*r/100;a=this.getHiddenTickmarksLabels(o,t.size(),n,i.CONSTANTS.TICKMARKS.MIN_SIZE.WITH_LABEL);t.each(function(e,i){s=i.nextSibling||i.previousSibling||{style:{visibility:null}};if(a[e]&&!c){i.style.display="none";s.style.visibility="hidden"}else{i.style.display="";s.style.visibility=""}})};return r});