/*!
* OpenUI5
 * (c) Copyright 2009-2019 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
*/
sap.ui.define(["./library","sap/ui/core/Control","./MessageStripUtilities","./Text","./Link","./FormattedText","sap/ui/core/library","./MessageStripRenderer","sap/base/Log"],function(e,t,a,i,o,n,r,s,p){"use strict";var l=r.MessageType;var g=t.extend("sap.m.MessageStrip",{metadata:{library:"sap.m",designtime:"sap/m/designtime/MessageStrip.designtime",properties:{text:{type:"string",group:"Appearance",defaultValue:""},type:{type:"sap.ui.core.MessageType",group:"Appearance",defaultValue:l.Information},customIcon:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:""},showIcon:{type:"boolean",group:"Appearance",defaultValue:false},showCloseButton:{type:"boolean",group:"Appearance",defaultValue:false},enableFormattedText:{type:"boolean",group:"Appearance",defaultValue:false}},defaultAggregation:"link",aggregations:{link:{type:"sap.m.Link",multiple:false,singularName:"link"},_formattedText:{type:"sap.m.FormattedText",multiple:false,visibility:"hidden"},_text:{type:"sap.m.Text",multiple:false,visibility:"hidden"}},events:{close:{}},dnd:{draggable:true,droppable:false}}});g.prototype.init=function(){this.data("sap-ui-fastnavgroup","true",true);this.setAggregation("_text",new i)};g.prototype.setText=function(e){var t=this.getAggregation("_formattedText");if(t){t.setHtmlText(e)}this.getAggregation("_text").setText(e);return this.setProperty("text",e)};g.prototype.setType=function(e){if(e===l.None){p.warning(a.MESSAGES.TYPE_NOT_SUPPORTED);e=l.Information}return this.setProperty("type",e)};g.prototype.setEnableFormattedText=function(e){var t=this.getAggregation("_formattedText");if(e){if(!t){t=new n;t._setUseLimitedRenderingRules(true);this.setAggregation("_formattedText",t)}t.setHtmlText(this.getText())}return this.setProperty("enableFormattedText",e)};g.prototype.setAggregation=function(e,a,i){if(e==="link"&&a instanceof o){a.addAriaLabelledBy(this.getId())}t.prototype.setAggregation.call(this,e,a,i);return this};s.getAccessibilityState=function(){var e=a.getAccessibilityState.call(this),t=this.getLink();if(!t){e.labelledby=this.getId()}return e};g.prototype.ontap=a.handleMSCloseButtonInteraction;g.prototype.onsapenter=a.handleMSCloseButtonInteraction;g.prototype.onsapspace=a.handleMSCloseButtonInteraction;g.prototype.ontouchmove=function(e){e.setMarked()};g.prototype.close=function(){var e=function(){this.fireClose();this.setVisible(false)}.bind(this);if(!sap.ui.getCore().getConfiguration().getAnimation()){e();return}a.closeTransitionWithCSS.call(this,e)};return g});